# 🚀 快速开始指南

## 三步部署到公网

### 第一步：准备代码和环境

1. **安装 Node.js**
   - 下载地址：https://nodejs.org/
   - 选择 LTS 版本安装

2. **安装依赖**
   ```bash
   npm install
   ```

3. **配置 API 密钥**
   - 复制 `.env.example` 为 `.env`
   ```bash
   copy .env.example .env
   ```
   - 编辑 `.env` 文件，填入你的智谱API密钥：
   ```env
   ZHIPU_API_KEY=sk-你的密钥
   ```

### 第二步：部署到 Render（推荐）

1. **注册账号**
   - 访问：https://render.com/
   - 使用 GitHub 账号登录

2. **连接 GitHub 仓库**
   - 点击 "New +"
   - 选择 "Web Service"
   - 连接你的 GitHub 仓库

3. **配置部署**
   - **Name**: womens-day-video
   - **Runtime**: Node
   - **Build Command**: `npm install`
   - **Start Command**: `node server.js`

4. **添加环境变量**
   - 在 "Environment Variables" 部分添加：
     ```
     ZHIPU_API_KEY = 你的智谱API密钥
     PORT = 3000
     ```

5. **点击 "Deploy"**
   - 等待 2-3 分钟
   - 部署完成后会获得公网 URL

### 第三步：分享和使用

1. **测试访问**
   - 打开部署后的 URL
   - 上传照片测试功能

2. **分享链接**
   - 将 URL 分享给公司员工
   - 可以在企业微信、微信群中分享

3. **收集反馈**
   - 观察使用情况
   - 收集用户反馈

## 📋 智谱AI API 密钥获取

### 注册流程

1. **访问官网**
   - 打开：https://open.bigmodel.cn/

2. **注册账号**
   - 点击 "立即体验" 或 "注册"
   - 填写注册信息

3. **获取 API 密钥**
   - 登录后进入控制台
   - 找到 "API Keys" 页面
   - 点击 "创建新的 API Key"
   - 复制生成的密钥（格式：sk-xxxxxxxxxx）

4. **充值（可选）**
   - 新账号通常有免费额度
   - 根据需要可以充值

## 🎯 本地测试

### 快速启动

```bash
# 安装依赖
npm install

# 配置环境变量
# 编辑 .env 文件，填入 ZHIPU_API_KEY

# 启动服务
npm start

# 或使用开发模式
npm run dev
```

### 访问应用

- 打开浏览器访问：http://localhost:3000
- 上传照片测试视频生成功能

## 🔧 常见问题

### Q1: 部署失败怎么办？

**A:** 
- 检查 GitHub 仓库是否正确连接
- 确认 `package.json` 中的启动命令正确
- 查看 Render 的部署日志，检查错误信息

### Q2: 视频生成失败怎么办？

**A:**
- 确认智谱AI API密钥已正确配置
- 检查 API 密钥是否有效且未过期
- 查看服务器日志，了解具体错误信息
- 确认图片格式正确（JPG、PNG）

### Q3: 生成速度太慢？

**A:**
- 视频生成时间取决于智谱API响应
- 通常需要 30-60 秒
- 可以调整 API 参数（帧数、步数等）优化

### Q4: 如何自定义风格？

**A:**
- 编辑 `server.js` 文件
- 修改 `styles` 对象中的 `prompt` 字段
- 重启服务器使更改生效

### Q5: 文件存储满了怎么办？

**A:**
- 系统会自动清理 24 小时前的文件
- 可以手动删除 `uploads/` 和 `generated/` 目录中的文件
- 可以调整清理频率（修改定时器间隔）

## 📱 移动端访问

部署后的应用完全支持移动端：
- 在手机浏览器中打开 URL
- 可以上传相册中的照片
- 支持触摸操作

## 💡 优化建议

1. **增加缓存**
   - 可以添加 Redis 缓存生成的视频
   - 减少重复请求

2. **添加限流**
   - 防止滥用 API
   - 保护服务器资源

3. **数据库存储**
   - 记录用户使用数据
   - 支持历史记录查看

4. **CDN 加速**
   - 使用 CDN 加速视频文件分发
   - 提升访问速度

## 📊 监控和日志

### Render 内置监控
- CPU 使用率
- 内存使用情况
- 网络流量
- 部署日志

### 自定义监控（可选）
可以集成：
- **Sentry**: 错误监控
- **Google Analytics**: 访问统计
- **UptimeRobot**: 服务可用性监控

## 🎉 部署成功后

1. **分享给同事**
   - 在企业微信群分享链接
   - 在部门公告中发布
   - 发送邮件通知

2. **收集使用数据**
   - 统计访问量
   - 记录生成次数
   - 收集用户反馈

3. **持续优化**
   - 根据反馈改进功能
   - 优化用户界面
   - 提升生成质量

## 📞 获取帮助

如果遇到问题：
1. 查看 [DEPLOY.md](DEPLOY.md) 详细部署文档
2. 查看 [README.md](README.md) 项目说明
3. 检查服务器日志
4. 联系技术支持团队

---

**祝你部署顺利，妇女节快乐！🌸**